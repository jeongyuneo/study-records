# 1.2. 왜 아직도 자바는 변화하는가?

새로운 언어가 등장하면서 진화하지 않은 기존 언어는 사장되었다.

특정 분야에서 장점을 가진 언어는 다른 경쟁 언어를 도태시키지만, 새로운 하나의 기능 때문에 기존 언어를 버리고 새로운 언어와 툴 체인으로 바꾸는 것은 쉽지 않은 일이다. 하지만 새로 프로그래밍을 배우는 사람은
자연스럽게 선택하게 되며 기존 언어는 도태된다.

자바는 1995년 첫 베타 버전 공개 이후 경쟁 언어를 대신하며 성공적으로 생태계를 구축했다.

## 1.2.1. 프로그래밍 언어 생태계에서 자바의 위치

### 자바의 출발

- 자바는 처음부터 많은 유용한 라이브러리를 포함하는 잘 설계된 객체지향 언어로 시작했다.

- 자바는 처음부터 스레드와 락을 이용한 소소한 동시성도 지원했다.

- 코드를 JVM 바이트 코드로 컴파일하는 특징 때문에 인터넷 애플릿 프로그램의 주요 언어가 되었다.

### 자바와 객체지향

- 1990년대 객체지향이 각광받은 이유

    1. 캡슐화 - C에 비해 소프트웨어 엔지니어링적 문제가 훨씬 적어짐
    2. 객체지향의 정식적 모델 - 윈도우 95 및 그 이후의 WIMP 프로그래밍 모델에 쉽게 대응 가능해짐

### 프로그래밍 언어 생태계에 변화

1. 병렬 프로세싱

   : 빅데이터라는 도전에 직면하면서 멀티코어 컴퓨터나 컴퓨팅 클러스터를 이용해 빅데이터를 효과적으로 처리할 필요성이 커짐
    - 자바 8 - 더욱 다양한 프로그래밍 도구 제공
        - 자바에 없던 완전히 새로운 개념들을 추가 → 현재 시장에서 요구하는 기능을 효과적으로 제공
        - 멀티코어 병렬성이 강화됨
2. 큰 시스템 설계
   : 외부에서 큰 하위시스템 컴포넌트를 추가하고, 다른 벤더가 만든 컴포넌트를 이용해 개발하는 사례 증가
    - 자바 8 - default 메소드 제공
    - 자바 9 - module 제공

## 1.2.2. 스트림 처리

스트림(stream): 한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임

자바 8에는 `java.util.stream` 패키지에 스트림 API 추가됨

### 스트림 API

- 파이프라인을 만드는 데 필요한 많은 메소드 제공
- 작업을 고수준으로 추상화해서 일련의 스트림으로 만들어 처리 가능
- 스트림 파이프라인을 이용해 입력 부분을 여러 CPU 코어에 쉽게 할당 가능

  (스레드라는 복잡한 작업을 사용하지 않으면서 **공짜로 병렬성**을 얻을 수 있음)

## 1.2.3. 동작 파라미터화로 메소드에 코드 전달하기

자바 8에서는 메소드를 다른 메소드의 인수로 넘겨주는 기능(동작 파라미터화, behavior parameterization)을 제공

- 동작 파라미터화가 중요한 이유

  : 스트림 API는 연산의 동작을 파라미터화할 수 있는 코드를 전달한다는 사상에 기초하기 때문

## 1.2.4. 병렬성과 공유 가변 데이터

자바 8에서는 **공짜 병렬성**을 얻은 대신 스트림 메소드로 전달하는 코드의 동작 방식을 수정해야 함

스트림 메소드로 전달하는 코드는 다른 코드와 동시에 실행하더라도 안전하게 실행가능 해야 함

- 순수 함수(pure function) = 부작용 없는 함수(side-effect-free function) = 상태 없는 함수(stateless function)

  : 다른 코드와 동시에 실행하더라도 **안전하게 실행**할 수 있는 코드를 만들기 위해 공유된 가변 데이터(shared mutable data)에 접근하지 않는 함수

공유되지 않은 가변 데이터(no shared mutable data), 메소드, 함수 코드를 다른 메소드로 전달하는 두 가지 기능은 **함수형 프로그래밍** 패러다임의 핵심 사항

↔ **명령형 프로그래밍**(imperative programming) 패러다임에서는 일련의 가변 상태로 프로그램을 정의
(수학적 함수처럼 함수가 정해진 기능만 수행하며 다른 부작용 일으키지 않음)

### synchronized vs steam

- `synchronized`
    - 공유된 가변 데이터 보호 규칙 생성 가능
    - 시스템 성능에 악영향 미침
    - 다중 프로세싱 코어에서 사용시 아주 비효율적일 수 있음
- `stream`
    - 기존의 스레드 API보다 쉽게 병렬성 활용 가능

## 1.2.5. 자바가 진화해야 하는 이유

- 자바 5 - 제네릭(generic) 등장
- 자바 8 - 고전적 객체지향에서 벗어나 함수형 프로그래밍에 다가섬
    - 함수형 프로그래밍에서는 우리가 하려는 작업이 최우선시되며 그 작업을 어떻게 수행하는지는 별개의 문제로 취급
    - 극적적으로 생각하면 전통적인 객체지향 프로그래밍과 함수형 프로그래밍은 완전 상극이지만, 자바 8에서 함수형 프로그래밍을 도입함으로써 두 가지 프로그래밍 패러다임의 장점을 모두 활용 가능해짐

> 언어는 하드웨어나 프로그래머 기대의 변화에 부응하는 방향으로 변화해야 한다.